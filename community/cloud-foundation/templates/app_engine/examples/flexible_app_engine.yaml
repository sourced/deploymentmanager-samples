# Example of the App Engine template usage.
#
# In this example, a standard App Engine environment is created.
#
# Replace <FIXME:appsId> with a name of the parent resource to create the
# version under. For example, "apps/myapp/services/default".

imports:
  - path: templates/app_engine/app_engine.py
    name: app_engine.py

resources:
  - name: test-app-engine-flexible-${RAND}
    type: app_engine.py
    properties:
      servicesId: default
      appsId: <FIXME:appsId>
      deployment:
        files:
          main.py:
            sourceUrl: https://storage.googleapis.com/admin-api-public-samples/hello_world/main.py
      handlers:
        - script:
            scriptPath: main.app
          securityLevel: SECURE_OPTIONAL
          urlRegex: /
      runtime: python27
      threadsafe: true
      manualScaling:
        instances: 5
      resources:
        cpu: 1
        diskGb: 0.5
        memoryGb: 1
        volumes:
          - name: ramdisk1
            volume_type: tmpfs
            size_gb: 0.5

# Example on how to use the network and subnetwork templates
#
# Variables:
#   RAND: Just a random string used mostly by the testing suite.
#

imports:
  - path: templates/network.py
  - path: templates/subnetwork.py

resources:
  - name: test-network-${RAND}
    type: templates/network.py
    properties:
      name: test-network-${RAND}
      autoCreateSubnetworks: false
  - name: test-subnetwork-${RAND}-1
    type: templates/subnetwork.py
    properties:
      network: $(ref.test-network-${RAND}.networkUrl)
      region: us-east1
      range: 10.116.0.0/21
      name: test-subnetwork-${RAND}-1
  - name: test-subnetwork-${RAND}-2
    type: templates/subnetwork.py
    properties:
      network: $(ref.test-network-${RAND}.networkUrl)
      region: us-east1
      range: 10.116.48.0/22
      name: test-subnetwork-${RAND}-2
